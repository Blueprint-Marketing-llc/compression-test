
HTTP Header Compression Tests
=============================

Usage:
  ./compression-test.py list-of-har-files

See [the HAR specification](http://www.softwareishard.com/blog/har-12-spec/), 
and our [collected sample HAR files](https://github.com/http2/http_samples).

Adding New Compression Algorithms
---------------------------------

If you wish to implement a new codec, there are two easy approaches.

1) Develop it in Python. New modules should be subdirectories of 
'compression'. 

2) Develop it in another language, and use the 'fork' module to execute
it in a separate process. 

A short example
of a program that could be fork-exec'd is 'trivial_codec.py', which accepts
HTTP1 formatted input from stdin, and produces 8-byte unsigned int-followed by
compressed-payload for each HTTP frame on stdout.

In either case, you can include your compression module from the command-line.
The following example loads http1_gzip.py, spdy4_codec.py, and fork_codec.py,
which in turn launches trivial_codec.py

  ./headers_sample.py \
      --codecs="http1_gzip,spdy4_codec,fork_codec=\"$PWD/trivial_codec.py\""
  The format of the "--codecs" parameter is:
      --codecs=(module_name[="module_params"])*
